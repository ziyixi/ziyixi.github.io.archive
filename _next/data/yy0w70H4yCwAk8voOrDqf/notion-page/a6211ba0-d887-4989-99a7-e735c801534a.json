{"pageProps":{"recordMap":{"block":{"a6211ba0-d887-4989-99a7-e735c801534a":{"role":"reader","value":{"id":"a6211ba0-d887-4989-99a7-e735c801534a","version":259,"type":"page","properties":{"=EkA":[["Here I introduce the method to convert the model GLL_tiso to GLL_azi in Specfem3D globe."]],"BpIl":[["specfem,mesh"]],"|o[w":[["Specfem"]],"title":[["Set up the initial model for the azimuthal anisotropy inversion in Specfem3D globe"]]},"content":["73159080-0f3e-458b-865d-23dd1d8f3b8f","cb26588a-2a7f-41a0-ac0b-12d0e1132e54","aa6bc507-36ae-40d8-be40-738f4b7ec8c6","4dd867d2-ceee-44fd-9242-b2ef1fe31fee","4476e9be-e9c6-4a67-b154-dad0f445092a","7b4af32e-5ad0-415e-a19a-32befcbb3a2c","e51ba1c7-536f-431e-b852-05db5ef7915a","f2668d92-731e-40d4-a7cb-70ca9c50929c","c8912ec9-31f6-46b6-b4eb-db594309883b"],"created_time":1625763960000,"last_edited_time":1625769720000,"parent_id":"64d14807-6d76-4cab-808b-1ac3a358dcbb","parent_table":"collection","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"20dbf2b0-c90c-4d30-9f41-0abd48835ad0":{"role":"reader","value":{"id":"20dbf2b0-c90c-4d30-9f41-0abd48835ad0","version":45,"type":"collection_view","view_ids":["34dde640-d6fc-4b58-951a-686c32a9031d"],"collection_id":"64d14807-6d76-4cab-808b-1ac3a358dcbb","format":{"collection_pointer":{"id":"64d14807-6d76-4cab-808b-1ac3a358dcbb","table":"collection","spaceId":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"created_time":1616888242000,"last_edited_time":1625764080000,"parent_id":"ab370d5a-ef57-44a1-8db5-d1bf0ef56f52","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"ab370d5a-ef57-44a1-8db5-d1bf0ef56f52":{"role":"reader","value":{"id":"ab370d5a-ef57-44a1-8db5-d1bf0ef56f52","version":43,"type":"page","properties":{"title":[["Blog"]]},"content":["0c56f418-3c4b-4266-8a09-f07f32a04f54","76e9002e-ec7a-4290-9c35-cf696f933b02","04d1ba9f-4745-4da5-a6d3-0336d915f5a2","20dbf2b0-c90c-4d30-9f41-0abd48835ad0","cd00a1df-25fa-4405-832d-b92deed72e20","8b2658c9-927f-49e7-be74-e0e64c07dea5","a7863387-8831-4ba4-ad9d-b78d408890b2"],"format":{"page_font":"serif","page_small_text":false},"permissions":[{"role":"editor","type":"user_permission","user_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e"},{"role":"reader","type":"public_permission"}],"created_time":1616888160000,"last_edited_time":1616891400000,"parent_id":"05f80ef1-fcad-4982-9333-06f8429a89d1","parent_table":"space","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"73159080-0f3e-458b-865d-23dd1d8f3b8f":{"role":"reader","value":{"id":"73159080-0f3e-458b-865d-23dd1d8f3b8f","version":588,"type":"text","properties":{"title":[["In the development version of the Specfem3D globe, it supports modeling the azimuthal anisotropy Earth structure. Previously, we are using the model GLL, which is the transversely anisotropy model including the parameters Vsv, Vsh, Vpv, Vph, eta, and rho. For the azimuthal anisotropy model, extra parameters including Gc_prime, Gs_prime are introduced. These two parameters are actually Gc and Gs normalized by mu0, which is equal to rho*Vs^2. "]]},"created_time":1625764080000,"last_edited_time":1625764260000,"parent_id":"a6211ba0-d887-4989-99a7-e735c801534a","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"cb26588a-2a7f-41a0-ac0b-12d0e1132e54":{"role":"reader","value":{"id":"cb26588a-2a7f-41a0-ac0b-12d0e1132e54","version":16,"type":"text","created_time":1625764260000,"last_edited_time":1625764260000,"parent_id":"a6211ba0-d887-4989-99a7-e735c801534a","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"aa6bc507-36ae-40d8-be40-738f4b7ec8c6":{"role":"reader","value":{"id":"aa6bc507-36ae-40d8-be40-738f4b7ec8c6","version":752,"type":"text","properties":{"title":[["To convert the TISO model to the AZI model, we need to get the initial values for the Gc_prime and Gs_prime. Apparently, their initial values should be 0.  However, we need to get the initial values for mu0 as required by the mesh program. According to get_model.F90, mu0 is determined by the reference model. What's more, according to save_model_meshfiles.f90, mu0 will be scaled (from SI to another one, which is very strange). The more strange thing is that, when the mesh program reads the AZI model, it will scale this value back. "]]},"created_time":1625764260000,"last_edited_time":1625764680000,"parent_id":"a6211ba0-d887-4989-99a7-e735c801534a","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"4dd867d2-ceee-44fd-9242-b2ef1fe31fee":{"role":"reader","value":{"id":"4dd867d2-ceee-44fd-9242-b2ef1fe31fee","version":16,"type":"text","created_time":1625764740000,"last_edited_time":1625764740000,"parent_id":"a6211ba0-d887-4989-99a7-e735c801534a","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"4476e9be-e9c6-4a67-b154-dad0f445092a":{"role":"reader","value":{"id":"4476e9be-e9c6-4a67-b154-dad0f445092a","version":536,"type":"text","properties":{"title":[["Can we set a different reference mu0 model? No! the mesh program will use the read-in mu0 model to convert Gc_prime to Gc, and the reference mu0 model from the 1D model to convert Gc to Gc_prime, and used this value in the actual computation. I think it's a designing problem in Specfem, as there is no need to read the mu0 model from the outside. Anyway, since we are using it, we have to provide one. "]]},"created_time":1625764740000,"last_edited_time":1625764920000,"parent_id":"a6211ba0-d887-4989-99a7-e735c801534a","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"7b4af32e-5ad0-415e-a19a-32befcbb3a2c":{"role":"reader","value":{"id":"7b4af32e-5ad0-415e-a19a-32befcbb3a2c","version":16,"type":"text","created_time":1625764920000,"last_edited_time":1625764920000,"parent_id":"a6211ba0-d887-4989-99a7-e735c801534a","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"e51ba1c7-536f-431e-b852-05db5ef7915a":{"role":"reader","value":{"id":"e51ba1c7-536f-431e-b852-05db5ef7915a","version":534,"type":"text","properties":{"title":[["Interestingly, in save_model_meshfiles.f90, the flag to control whether to output the Gc_prime, Gs_prime and mu0 is only ANISOTROPIC_3D_MANTLE. If we remove ANISOTROPIC_3D_MANTLE, then the TISO model will output the AZI parameters. According to get_models.f90, Gc_prime and Gs_prime are initialized as 0, and mu0 is from the reference model, with the desired scaling. So the most convenient way to convert GLL_tiso to GLL_azi should be removing the flag here."]]},"created_time":1625764920000,"last_edited_time":1625765460000,"parent_id":"a6211ba0-d887-4989-99a7-e735c801534a","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"f2668d92-731e-40d4-a7cb-70ca9c50929c":{"role":"reader","value":{"id":"f2668d92-731e-40d4-a7cb-70ca9c50929c","version":16,"type":"text","created_time":1625769660000,"last_edited_time":1625769660000,"parent_id":"a6211ba0-d887-4989-99a7-e735c801534a","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}},"c8912ec9-31f6-46b6-b4eb-db594309883b":{"role":"reader","value":{"id":"c8912ec9-31f6-46b6-b4eb-db594309883b","version":309,"type":"text","properties":{"title":[["There is another thing we should take care. Apart from the flag in save_model_meshfiles.f90, we also have to remove the flag in create_regions_mesh.f90, around the line 702. Because in the case of no ANISOTROPIC_3D_MANTLE, Gc_prime and Gs_prime will not be allocated."]]},"created_time":1625769660000,"last_edited_time":1625769720000,"parent_id":"a6211ba0-d887-4989-99a7-e735c801534a","parent_table":"block","alive":true,"created_by_table":"notion_user","created_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","last_edited_by_table":"notion_user","last_edited_by_id":"0d58f417-30df-4d6c-b3b9-191c93ad0a1e","space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}}},"collection":{"64d14807-6d76-4cab-808b-1ac3a358dcbb":{"role":"reader","value":{"id":"64d14807-6d76-4cab-808b-1ac3a358dcbb","version":32,"name":[["2021"]],"schema":{"=EkA":{"name":"Abstract","type":"text"},"BpIl":{"name":"Tags","type":"multi_select","options":[{"id":"98a78b5f-f6ea-4b8f-bb3b-49bd3761bdae","color":"brown","value":"front end"},{"id":"3e797377-43a5-442d-a079-650b0123fe0a","color":"pink","value":"typescript"},{"id":"7b9b6115-96d5-40f2-b04f-74f7be002947","color":"orange","value":"next.js"},{"id":"45d8b453-1a5e-4405-8bd5-7d081cdc7a6c","color":"blue","value":"specfem"},{"id":"bc880b7a-5143-4c98-8f80-9f5a9570d2d9","color":"gray","value":"stampede2"},{"id":"7c35f5e1-7372-4f8e-93e0-bb74a5c3fa5d","color":"yellow","value":"cmake"},{"id":"a5eb2d23-b64d-484e-b5b7-2d10c77d7231","color":"default","value":"HDF5"},{"id":"e0f8d0f7-8479-4c08-a1cf-d58cf1f5c97c","color":"green","value":"Parallel Computing"},{"id":"7d3ac769-6fa0-4320-a82d-293ece518f9c","color":"red","value":"links"},{"id":"b08a794b-2396-4d95-a589-6d49cf9fdaac","color":"purple","value":"mesh"}]},"J@xT":{"name":"Last edited time","type":"last_edited_time"},"|o[w":{"name":"Category","type":"select","options":[{"id":"ThgN","value":"CS"},{"id":"6134b7ea-a30a-41e5-8bbd-1731a91ee334","color":"gray","value":"Specfem"},{"id":"785c2a3c-9a34-4a62-95bf-e95c90a69e87","color":"default","value":"HPC"}]},"title":{"name":"Name","type":"title"}},"format":{"collection_page_properties":[{"visible":true,"property":"BpIl"}]},"parent_id":"20dbf2b0-c90c-4d30-9f41-0abd48835ad0","parent_table":"block","alive":true,"migrated":true,"space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}}},"collection_view":{"34dde640-d6fc-4b58-951a-686c32a9031d":{"role":"reader","value":{"id":"34dde640-d6fc-4b58-951a-686c32a9031d","version":45,"type":"table","name":"Default view","format":{"table_wrap":true,"table_properties":[{"width":269,"visible":true,"property":"title"},{"width":100,"visible":true,"property":"|o[w"},{"width":270,"visible":true,"property":"BpIl"},{"width":202,"visible":true,"property":"J@xT"},{"visible":true,"property":"=EkA"}]},"parent_id":"20dbf2b0-c90c-4d30-9f41-0abd48835ad0","parent_table":"block","alive":true,"page_sort":["7b868910-8732-4b19-a22b-85ccd35cecdd","ed4ff7cf-35db-46fd-ba49-04e7b76b047c","bf5005e7-7d64-4ee9-a362-1a53a404918b","285c4017-568b-4f63-bb1a-1c0bd0a9a709","357433d8-f0a1-48bf-aea0-004c15b47b2b","29042fa0-1e55-4a0d-98ce-31825a847a79","1a96e2a2-698b-4a76-b6a8-f64831c1c978","a6211ba0-d887-4989-99a7-e735c801534a","1cb2d15a-b5a0-42e9-9531-acf994232673","9624cbbe-068b-4fc0-ae9f-1d91629339a0","a57b5a1b-81aa-4a65-931a-2159f3344a69","22f2c28f-ec70-4e30-9055-9a2fe764f2d7","c3853aff-1d78-4a75-9970-d4cf53cf26b2"],"query2":{"aggregations":[{"property":"title","aggregator":"count"}]},"space_id":"05f80ef1-fcad-4982-9333-06f8429a89d1"}}},"space":{},"notion_user":{},"collection_query":{},"signed_urls":{}}},"__N_SSG":true}